<div class= 'signup'>
  <div class= 'box'>
    <h2>新規登録</h2>
<%# グループに応じた条件分岐がうまくいかない %>
    <%= form_with model: @user, local: true, url: trader_index_path do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>

      <div class="field">
        <%= f.label :name, '名前' %><br />
        <%= f.text_field :name, autofocus: true, autocomplete: "name",placeholder: "名前" %>
      </div>

      <div class="field">
        <%= f.label :email, 'メールアドレス' %><br />
        <%= f.email_field :email, autofocus: true, autocomplete: "email",placeholder: "メールアドレス" %>
      </div>

      <div class="field">
        <%= f.label :password, 'パスワード' %>
        <% if @minimum_password_length %>
        <em>(<%= @minimum_password_length %> 文字以上)</em>
        <% end %><br />
        <%= f.password_field :password, autocomplete: "new-password",placeholder: "パスワード" %>
      </div>

      <div class="field">
        <%= f.label :password_confirmation, 'パスワードの確認' %><br />
        <%= f.password_field :password_confirmation, autocomplete: "new-password",placeholder: "パスワードの確認" %>
      </div>

      <div class='field'>
        <%= f.radio_button :group, :trader %>
        <%= f.label :group, '業者', {value: :trader } %>
        <%= f.radio_button :group, :user %>
        <%= f.label :group, '元請け', {value: :user } %>
      </div>

      <div class="actions">
        <%= f.submit "新規登録" %>
      </div>
    <% end %>

    <%= render "devise/shared/links" %>

  </div>
</div>
